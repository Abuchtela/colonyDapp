query WhitelistedUsers($colonyAddress: String!) {
   whitelistedUsers(colonyAddress: $colonyAddress) @client {
    id
    profile {
      walletAddress
    }
   }
}

query WhitelistAgreement($agreementHash: String!) {
  whitelistAgreement(agreementHash: $agreementHash) @client
}

query WhitelistAgreementHash($colonyAddress: String!) {
  whitelistAgreementHash(colonyAddress: $colonyAddress) @client
}

query HasKycPolicy($colonyAddress: String!) {
  hasKycPolicy(colonyAddress: $colonyAddress) @client
}

query WhitelistPolicy($colonyAddress: String!) {
  whitelistPolicy(colonyAddress: $colonyAddress) @client {
    kycRequired,
    agreementRequired,
  }
}

query UserWhitelistStatus($colonyAddress: String!, $userAddress: String!) {
  userWhitelistStatus(colonyAddress: $colonyAddress, userAddress: $userAddress) @client {
    userIsApproved,
    userIsWhitelisted,
    userSignedAgreement,
  }
}

query SubgraphWhitelistEvents($extensionAddress: String!) {
  userApprovedEvents: events(
    where: {
      name_contains: "UserApproved"
      address: $extensionAddress
    }
  ) {
    id
    transaction {
      id
      transactionHash: id
      block {
        id
        number: id
        timestamp
      }
    }
    address
    name
    args
  }
  agreementSignedEvents: events(
    where: {
      name_contains: "AgreementSigned"
      address: $extensionAddress
    }
  ) {
    id
    transaction {
      id
      transactionHash: id
      block {
        id
        number: id
        timestamp
      }
    }
    address
    name
    args
  }
}
