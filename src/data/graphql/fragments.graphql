fragment Payouts on Task {
  payouts {
    amount
    tokenAddress
    token @client {
      id
      address
      decimals
      name
      symbol
    }
  }
}

fragment CreateTaskFields on Task {
  id
  ...Payouts
  assignedWorker {
    id
    profile {
      avatarHash
    }
  }
  assignedWorkerAddress
  cancelledAt
  colonyAddress
  commentCount @client
  createdAt
  creatorAddress
  dueDate
  ethDomainId
  ethSkillId
  events {
    id
    type
  }
  finalizedAt
  title
  workRequestAddresses
  txHash
}

fragment Tokens on ProcessedColony {
  nativeTokenAddress
  tokenAddresses
  tokens @client {
    id
    address
    iconHash
    decimals
    name
    symbol
    processedBalances(colonyAddress: $address) {
      domainId
      amount
    }
  }
}

fragment DomainFields on ProcessedDomain {
  id
  color
  description
  ethDomainId
  name
  ethParentDomainId
}

fragment ColonyProfile on ProcessedColony {
  id
  colonyAddress
  colonyName
  displayName
  avatarHash
  avatarURL
  extensionAddresses
}

fragment FullColony on ProcessedColony {
  ...ColonyProfile
  ...Tokens
  domains @client {
    ...DomainFields
  }
  roles @client {
    address
    domains {
      domainId
      roles
    }
  }
  version @client
  canMintNativeToken @client
  canUnlockNativeToken @client
  isInRecoveryMode @client
  isNativeTokenLocked @client
  isDeploymentFinished @client
}

fragment FullNetworkEvent on NetworkEvent {
  fromAddress
  toAddress
  createdAt
  name
  hash
  topic
  userAddress
  domainId
}

# @NOTE About the TransactionEventContext fragment
#
# This is exactly the same as the other EventContext fragment, just with the
# transaction event context set in
#
# This is because we will remove the other ones at some point and this needs
# to stay at least for longer then the normal Event ones.
#
# This makes cleanup later on easier

fragment TransactionEventContext on Event {
    context {
    ... on TransactionMessageEvent {
      type
      transactionHash
      message
      colonyAddress
    }
  }
}

fragment TransactionMessage on Event {
  ...EventFields
  ...TransactionEventContext
}
